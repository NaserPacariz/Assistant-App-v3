<div class="back-arrow-container">
  <button class="back-arrow" (click)="navigateBack()">&larr;</button>
</div>

<div class="filter-section">
  <h2>Budget History</h2>

  <div class="form-group">
    <label for="search">Search by Description:</label>
    <input
      id="search"
      type="text"
      [(ngModel)]="searchValue"
      (input)="applyFilters()"
      placeholder="Search transactions..."
    />
  </div>

  <div class="form-group">
    <label>Price Range:</label>
    <div class="price-range">
      <input
        type="number"
        placeholder="Min"
        [(ngModel)]="priceFilter.min"
        (input)="applyFilters()"
      />
      <span>-</span>
      <input
        type="number"
        placeholder="Max"
        [(ngModel)]="priceFilter.max"
        (input)="applyFilters()"
      />
    </div>
  </div>

  <div class="form-group">
    <label for="sort">Sort by Date:</label>
    <select id="sort" [(ngModel)]="sortOption" (change)="applyFilters()">
      <option value="newest">Newest First</option>
      <option value="oldest">Oldest First</option>
    </select>
  </div>
</div>

<div class="history-section">
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Description</th>
        <th>Amount</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of filteredHistory">
        <td>{{ item.date | date: 'fullDate' }}</td>
        <td>{{ item.description }}</td>
        <td>{{ item.amount | currency }}</td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="filteredHistory.length === 0">No transactions found.</p>
</div>
